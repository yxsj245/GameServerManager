# GSM3 æ’ä»¶æ¨¡æ¿

è¿™æ˜¯ä¸€ä¸ªç®€åŒ–çš„æ’ä»¶æ¨¡æ¿ï¼Œå¸®åŠ©æ‚¨å¿«é€Ÿå¼€å§‹æ’ä»¶å¼€å‘ã€‚

## åŸºç¡€æ¨¡æ¿ç»“æ„

```
my-plugin/
â”œâ”€â”€ plugin.json          # æ’ä»¶é…ç½®æ–‡ä»¶
â”œâ”€â”€ index.html           # ä¸»ç•Œé¢æ–‡ä»¶
â””â”€â”€ gsm3-api.js         # APIå®¢æˆ·ç«¯åº“ï¼ˆä»ç¤ºä¾‹æ’ä»¶å¤åˆ¶ï¼‰
```

## 1. åˆ›å»º plugin.json

```json
{
  "name": "my-plugin",
  "displayName": "æˆ‘çš„æ’ä»¶",
  "description": "è¿™æ˜¯æˆ‘çš„ç¬¬ä¸€ä¸ªGSM3æ’ä»¶",
  "version": "1.0.0",
  "author": "æ‚¨çš„åå­—",
  "enabled": true,
  "hasWebInterface": true,
  "entryPoint": "index.html",
  "icon": "cog",
  "category": "å·¥å…·"
}
```

## 2. åˆ›å»º index.html

```html
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æˆ‘çš„æ’ä»¶ - GSM3</title>
    <script src="gsm3-api.js"></script>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            min-height: 100vh;
            padding: 20px;
            margin: 0;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
        }
        
        .header {
            text-align: center;
            margin-bottom: 40px;
        }
        
        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            color: #ffd700;
        }
        
        .card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 20px;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 25px;
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 5px;
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
        }
        
        .result {
            background: rgba(0, 0, 0, 0.2);
            padding: 15px;
            border-radius: 10px;
            margin-top: 15px;
            font-family: 'Courier New', monospace;
            white-space: pre-wrap;
            max-height: 300px;
            overflow-y: auto;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ”§ æˆ‘çš„æ’ä»¶</h1>
            <p>è¿™æ˜¯æˆ‘çš„ç¬¬ä¸€ä¸ªGSM3æ’ä»¶</p>
        </div>
        
        <div class="card">
            <h3>åŠŸèƒ½æ¼”ç¤º</h3>
            <p>ç‚¹å‡»ä¸‹é¢çš„æŒ‰é’®æµ‹è¯•æ’ä»¶åŠŸèƒ½ï¼š</p>
            
            <button class="btn" onclick="testSystemInfo()">è·å–ç³»ç»Ÿä¿¡æ¯</button>
            <button class="btn" onclick="testInstances()">è·å–å®ä¾‹åˆ—è¡¨</button>
            <button class="btn" onclick="testHealthCheck()">å¥åº·æ£€æŸ¥</button>
            
            <div id="result" class="result">
                ç‚¹å‡»æŒ‰é’®æŸ¥çœ‹ç»“æœ...
            </div>
        </div>
        
        <div class="card">
            <h3>å¼€å‘è¯´æ˜</h3>
            <p>è¿™æ˜¯ä¸€ä¸ªåŸºç¡€çš„æ’ä»¶æ¨¡æ¿ï¼Œæ‚¨å¯ä»¥ï¼š</p>
            <ul>
                <li>ä¿®æ”¹ç•Œé¢æ ·å¼å’Œå¸ƒå±€</li>
                <li>æ·»åŠ æ›´å¤šåŠŸèƒ½æŒ‰é’®</li>
                <li>è°ƒç”¨æ›´å¤šGSM3 API</li>
                <li>é›†æˆç¬¬ä¸‰æ–¹æœåŠ¡</li>
            </ul>
        </div>
    </div>
    
    <script>
        // åˆå§‹åŒ–API
        const api = new GSM3API();
        
        // æ˜¾ç¤ºç»“æœ
        function showResult(title, data) {
            const resultDiv = document.getElementById('result');
            resultDiv.textContent = `${title}:\n${JSON.stringify(data, null, 2)}`;
        }
        
        // æ˜¾ç¤ºé”™è¯¯
        function showError(title, error) {
            const resultDiv = document.getElementById('result');
            resultDiv.textContent = `${title} å¤±è´¥:\n${error.message}`;
        }
        
        // æµ‹è¯•ç³»ç»Ÿä¿¡æ¯
        async function testSystemInfo() {
            try {
                await api.initialize();
                const info = await api.getSystemInfo();
                showResult('ç³»ç»Ÿä¿¡æ¯', info);
            } catch (error) {
                showError('è·å–ç³»ç»Ÿä¿¡æ¯', error);
            }
        }
        
        // æµ‹è¯•å®ä¾‹åˆ—è¡¨
        async function testInstances() {
            try {
                await api.initialize();
                const instances = await api.getInstances();
                showResult('å®ä¾‹åˆ—è¡¨', instances);
            } catch (error) {
                showError('è·å–å®ä¾‹åˆ—è¡¨', error);
            }
        }
        
        // æµ‹è¯•å¥åº·æ£€æŸ¥
        async function testHealthCheck() {
            try {
                await api.initialize();
                const health = await api.healthCheck();
                showResult('å¥åº·æ£€æŸ¥', health);
            } catch (error) {
                showError('å¥åº·æ£€æŸ¥', error);
            }
        }
        
        // æ’ä»¶åŠ è½½å®Œæˆ
        console.log('æˆ‘çš„æ’ä»¶å·²åŠ è½½');
        
        // ç­‰å¾…APIå‡†å¤‡å°±ç»ª
        api.onReady(() => {
            console.log('GSM3 APIå·²å‡†å¤‡å°±ç»ª');
            showResult('æ’ä»¶çŠ¶æ€', { status: 'ready', message: 'APIå·²åˆå§‹åŒ–' });
        });
    </script>
</body>
</html>
```

## 3. å¤åˆ¶APIæ–‡ä»¶

ä»ç¤ºä¾‹æ’ä»¶ç›®å½•å¤åˆ¶ `gsm3-api.js` æ–‡ä»¶åˆ°æ‚¨çš„æ’ä»¶ç›®å½•ã€‚

## 4. æµ‹è¯•æ’ä»¶

1. å°†æ’ä»¶ç›®å½•æ”¾ç½®åœ¨ `server/data/plugins/` ä¸‹
2. é‡æ–°åŠ è½½GSM3é¢æ¿
3. åœ¨æ’ä»¶åˆ—è¡¨ä¸­æ‰¾åˆ°æ‚¨çš„æ’ä»¶
4. ç‚¹å‡»è¿›å…¥æ’ä»¶é¡µé¢

## 5. è‡ªå®šä¹‰å¼€å‘

### ä¿®æ”¹æ ·å¼

åœ¨ `<style>` æ ‡ç­¾ä¸­ä¿®æ”¹CSSæ ·å¼ï¼Œè‡ªå®šä¹‰æ’ä»¶å¤–è§‚ã€‚

### æ·»åŠ åŠŸèƒ½

åœ¨JavaScriptéƒ¨åˆ†æ·»åŠ æ–°çš„å‡½æ•°ï¼Œè°ƒç”¨GSM3 APIå®ç°æ›´å¤šåŠŸèƒ½ã€‚

### å¸¸ç”¨APIç¤ºä¾‹

```javascript
// æ–‡ä»¶æ“ä½œ
api.readFile('/path/to/file')
api.writeFile('/path/to/file', 'content')
api.listDirectory('/path/to/dir')

// å®ä¾‹ç®¡ç†
api.createInstance({ name: 'å®ä¾‹å', ... })
api.startInstance('instance-id')
api.stopInstance('instance-id')

// ç»ˆç«¯æ“ä½œ
api.getTerminals()
api.getTerminalSessions()
```

## 6. å‘å¸ƒæ’ä»¶

å®Œæˆå¼€å‘åï¼Œæ‚¨å¯ä»¥ï¼š

1. æ‰“åŒ…æ’ä»¶ç›®å½•
2. åˆ†äº«ç»™å…¶ä»–ç”¨æˆ·
3. æäº¤åˆ°æ’ä»¶å¸‚åœºï¼ˆå¦‚æœæœ‰ï¼‰

## å¸¸è§é—®é¢˜

**Q: æ’ä»¶ä¸æ˜¾ç¤ºæ€ä¹ˆåŠï¼Ÿ**
A: æ£€æŸ¥ `plugin.json` æ ¼å¼æ˜¯å¦æ­£ç¡®ï¼Œ`enabled` æ˜¯å¦ä¸º `true`ã€‚

**Q: APIè°ƒç”¨å¤±è´¥æ€ä¹ˆåŠï¼Ÿ**
A: æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°é”™è¯¯ä¿¡æ¯ï¼Œç¡®ä¿ `gsm3-api.js` æ­£ç¡®åŠ è½½ã€‚

**Q: å¦‚ä½•è°ƒè¯•æ’ä»¶ï¼Ÿ**
A: ä½¿ç”¨æµè§ˆå™¨å¼€å‘è€…å·¥å…·ï¼ŒæŸ¥çœ‹æ§åˆ¶å°æ—¥å¿—å’Œç½‘ç»œè¯·æ±‚ã€‚

---

æ›´å¤šè¯¦ç»†ä¿¡æ¯è¯·å‚è€ƒ [æ’ä»¶å¼€å‘æ–‡æ¡£.md](./æ’ä»¶å¼€å‘æ–‡æ¡£.md)